<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        window.onload=function(){
            /*
            为每个超链接都绑定一个单击响应函数
            */
           var btn=document.getElementById("btn");
           btn.onclick=function(){
              var li=document.createElement("li");
              li.innerHTML='<a href="#" class="link">新建超链接</a>';
              var ul=document.getElementById("u1");
              ul.appendChild(li);
           };

           //这些操作只能为已有的超链接设置事件，新添加的超链接必须重新绑定
        //    var allA=document.getElementsByTagName("a");
        //    for(var i=0;i<allA.length;i++){
        //        allA[i].onclick=function(){
        //          alert("hello");
        //        };
        //    }
       
           //我们希望只绑定一次事件，即可应用到多个元素上，即使元素是后来添加的
          /* 事件的委派  指将事件同意绑定给元素的共同祖先元素，当后代元素上的事件触发时，会一直冒泡到祖先元素
                     从而通过祖先元素的响应函数来处理事件
                     可以减少事件绑定次数，提升性能
          */
          
           u1.onclick=function(event){
               //如果触发事件的对象是期望的元素，则执行，否则不执行
               //event中的target表示触发事件的对象
               if(event.target.className=="link")
              alert("ohhhhhhhh");
          };
        
        };
    </script>
</head>
<body>
    <button id="btn">按钮</button>
    <ul id="u1">
        <li>
            <p>我是p元素</p>
        </li>
     <li><a href="#" class="link">超链接1</a></li>
     <li><a href="#" class="link">超链接2</a></li>
     <li><a href="#" class="link">超链接3</a></li>

    </ul>
</body>
</html>